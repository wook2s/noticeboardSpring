DROP TABLE BOARD_UPLOAD_FILE;
DROP TABLE BOARD;
DROP TABLE BOARD_CATEGORY;

CREATE TABLE BOARD(
    BOARD_ID NUMBER CONSTRAINT PK_BOARD_BOARD_ID PRIMARY KEY,
    CATEGORY_ID NUMBER,
    WRITER VARCHAR2(20) NOT NULL,
    EMAIL   VARCHAR2(100),
    PASSWORD VARCHAR2(20) NOT NULL,
    TITLE VARCHAR2(500) NOT NULL,
    CONTENT CLOB,
    WRITE_DATE DATE DEFAULT SYSDATE NOT NULL,
    MASTER_ID NUMBER,
    REPLY_NUMBER NUMBER,
    REPLY_STEP NUMBER,
    READ_COUNT NUMBER DEFAULT 0
);

CREATE TABLE BOARD_CATEGORY(
    CATEGORY_ID NUMBER CONSTRAINT PK_BOARD_CATEGORY_ID PRIMARY KEY,
    CATEGORY_NAME VARCHAR2(100) NOT NULL,
    CATEGORY_CLASS1 VARCHAR2(4) NULL,
    CATEGORY_CLASS2 VARCHAR2(4) NULL,
    CATEGORY_DESCRIPTION VARCHAR2(100) NULL,
    CATEGORY_ORDER NUMBER(4) NULL
);

CREATE TABLE BOARD_UPLOAD_FILE(
    FILE_ID NUMBER CONSTRAINT PK_BOARD_FILE_ID PRIMARY KEY,
    BOARD_ID NUMBER NULL,
    FILE_NAME VARCHAR2(256) NULL,
    FILE_SIZE VARCHAR2(45) NULL,
    FILE_CONTENT_TYPE VARCHAR2(500) NULL,
    FILE_DATA BLOB NULL
);

ALTER TABLE BOARD_CATEGORY
    ADD CONSTRAINT UK_BOARD_CATEGORY_NAME UNIQUE (CATEGORY_NAME) USING INDEX;

ALTER TABLE BOARD
    ADD CONSTRAINT FK_BOARD_CATEGORY_ID
        FOREIGN KEY (CATEGORY_ID) REFERENCES BOARD_CATEGORY (CATEGORY_ID);

ALTER TABLE BOARD_UPLOAD_FILE
    ADD CONSTRAINT FK_BOARD_BOARD_ID
        FOREIGN KEY (BOARD_ID) REFERENCES BOARD(BOARD_ID);


INSERT INTO BOARD_CATEGORY
    (CATEGORY_ID, CATEGORY_NAME, CATEGORY_CLASS1, CATEGORY_CLASS2, CATEGORY_DESCRIPTION, CATEGORY_ORDER)
    VALUES
    (1, '게시판', 1, 10, '게시판', 100);
INSERT INTO BOARD_CATEGORY
    (CATEGORY_ID, CATEGORY_NAME, CATEGORY_CLASS1, CATEGORY_CLASS2, CATEGORY_DESCRIPTION, CATEGORY_ORDER)
    VALUES
    (2, '자료실', 1, 10, '자료실', 200);
INSERT INTO BOARD_CATEGORY
    (CATEGORY_ID, CATEGORY_NAME, CATEGORY_CLASS1, CATEGORY_CLASS2, CATEGORY_DESCRIPTION, CATEGORY_ORDER)
    VALUES
    (3, '갤러리', 1, 10, '갤러리', 300);    



INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (1, 1, '성주난', 'SJH@NAVER.COM', '1234', '첫글', '나는 성주난', 1, 1, 0);
 INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (2, 1, '박운진', 'PUJ@NAVER.COM', '1234', '두번 째 글', '나는 성주난', 1, 1, 0);
 INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (3, 1, '김호규', 'KHG@NAVER.COM', '1234', '세번 째', '나는 성주난', 1, 1, 0);
 INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (4, 1, '황하석', 'HHS@NAVER.COM', '1234', '네번 째', '나는 성주난', 1, 1, 0);
 INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (5, 1, '김도형', 'KDH@NAVER.COM', '1234', '다섯번 째', '나는 성주난', 1, 1, 0);
 INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (6, 1, '정일영', 'JIY@NAVER.COM', '1234', '여섯번 째', '나는 성주난', 1, 1, 0);
 INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (7, 1, '강길한', 'GGH@NAVER.COM', '1234', '일곱번 째', '나는 성주난', 1, 1, 0);
 INSERT INTO BOARD 
    (BOARD_ID, CATEGORY_ID, WRITER, EMAIL, PASSWORD, TITLE, CONTENT,  MASTER_ID, REPLY_NUMBER, REPLY_STEP)
    VALUES
    (8, 1, '김종욱', 'KJW@NAVER.COM', '1234', '여덟번 째', '나는 성주난', 1, 1, 0);
 
    
COMMIT;    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    




